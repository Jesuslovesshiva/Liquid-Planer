{"mappings":"AAAA;AAEA,MAAM;IACJ,YAAY,WAAW,CAAE;QACvB,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB;QAClC,IAAI,CAAC,uBAAuB;IAC9B;IAEA,0BAA0B;QACxB,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QACzC,QAAQ,gBAAgB,CAAC,SAAS,CAAC,IAAM;YACvC,IAAI,EAAE,MAAM,KAAK,SACf,4CAA4C;YAC5C,IAAI,CAAC,IAAI;QAEb;QAEA,MAAM,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QACtC,KAAK,gBAAgB,CAAC,UAAU,CAAC,IAAM;YACrC,EAAE,cAAc;YAChB,MAAM,iBAAiB,MAAM,IAAI,CAAC,KAAK,QAAQ,EAC5C,MAAM,CAAC,CAAC,KAAO,GAAG,OAAO,KAAK,SAC9B,MAAM,CACL,CAAC,OAAO,QACN,QAAQ,WAAW,MAAM,KAAK,CAAC,OAAO,CAAC,KAAK,OAAO,OAAO,IAC5D;YAGJ,IAAI,CAAC,uBAAuB,CAAC;YAC7B,IAAI,CAAC,wBAAwB,CAAC;YAC9B,IAAI,CAAC,IAAI;QACX;IACF;IAEA,0BAA0B;QACxB,MAAM,gBAAgB,cAAc,cAAc;QAClD,MAAM,gBAAgB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QAC/C,cAAc,SAAS,GAAG;QAE1B,cAAc,OAAO,CAAC,CAAC,UAAY;YACjC,MAAM,WAAW,SAAS,aAAa,CAAC;YACxC,SAAS,WAAW,GAAG,CAAC,EAAE,QAAQ,KAAK,CAAC,EAAE,EAAE,QAAQ,MAAM,CAAC,EAAE,CAAC;YAC9D,cAAc,WAAW,CAAC;QAC5B;IACF;IAEA,mBAAmB;QACjB,MAAM,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cA2GT,CAAC;QAEX,MAAM,MAAM,SAAS,aAAa,CAAC;QACnC,IAAI,SAAS,GAAG;QAChB,OAAO;IACT;IAEA,yBAAyB,cAAc,EAAE;QACvC,KAAK,MAAM,eAAe,cAAc,qBAAqB,CAC1D,aAAa,CAAE;YAChB,MAAM,QAAQ,YAAY,MAAM;YAChC,MAAM,OAAO,YAAY,KAAK;YAC9B,MAAM,UACJ,cAAc,qBAAqB,CAAC,wBAAwB,CAC1D,MACA;YAGJ,gDAAgD;YAChD,MAAM,iBAAiB,SAAS,aAAa,CAC3C,CAAC,+BAA+B,EAAE,KAAK,eAAe,EAAE,MAAM,EAAE,CAAC;YAGnE,8DAA8D;YAC9D,MAAM,QAAQ,eAAe,gBAAgB,CAAC;YAC9C,MAAM,yBAAyB,MAAM,IAAI,CAAC,OAAO,IAAI,CACnD,CAAC,OAAS,KAAK,WAAW,KAAK;YAGjC,IAAI,CAAC,wBACH,cAAc,mBAAmB,CAAC;gBAChC,OAAO;gBACP,QAAQ;gBACR,KAAK;gBACL,OAAO,IAAI,KAAK,MAAM,QAAQ,GAAG;YACnC;QAGJ;IACF;IAEA,OAAO;QACL,SAAS,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;QACpC,MAAM,QAAQ,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QACvC,MAAM,SAAS,CAAC,GAAG,CAAC;IACtB;IAEA,OAAO;QACL,MAAM,QAAQ,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QACvC,MAAM,SAAS,CAAC,GAAG,CAAC;QACpB,WAAW,IAAM;YACf,MAAM,SAAS,CAAC,MAAM,CAAC,UAAU;YACjC,SAAS,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;QACtC,GAAG,MAAM,iEAAiE;IAC5E;AACF","sources":["Haushaltsbuch/src/js/classes/FixkostenPopup.js"],"sourcesContent":["\"use strict\";\r\n\r\nclass FixkostenPopup {\r\n  constructor(monatsliste) {\r\n    this.monatsliste = monatsliste;\r\n    this._html = this._html_generieren();\r\n    this._registerEventListeners();\r\n  }\r\n\r\n  _registerEventListeners() {\r\n    const overlay = this._html.querySelector(\".fixkosten-popup-overlay\");\r\n    overlay.addEventListener(\"click\", (e) => {\r\n      if (e.target === overlay) {\r\n        // Check if the click is outside the content\r\n        this.hide();\r\n      }\r\n    });\r\n\r\n    const form = this._html.querySelector(\"#fixkosten-form\");\r\n    form.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const totalFixkosten = Array.from(form.elements)\r\n        .filter((el) => el.tagName === \"INPUT\")\r\n        .reduce(\r\n          (total, input) =>\r\n            total + parseFloat(input.value.replace(\",\", \".\") * 100 || 0),\r\n          0\r\n        );\r\n\r\n      this.updateFixkostenAusgaben(totalFixkosten);\r\n      this.updateAllMonthsFixkosten(totalFixkosten);\r\n      this.hide();\r\n    });\r\n  }\r\n\r\n  updateFixkostenAusgaben() {\r\n    const fixedExpenses = haushaltsbuch._fixedExpenses;\r\n    const ausgabenListe = this._html.querySelector(\"#fixkosten-ausgaben\");\r\n    ausgabenListe.innerHTML = \"\";\r\n\r\n    fixedExpenses.forEach((expense) => {\r\n      const listItem = document.createElement(\"li\");\r\n      listItem.textContent = `${expense.title}: ${expense.amount} â‚¬`;\r\n      ausgabenListe.appendChild(listItem);\r\n    });\r\n  }\r\n\r\n  _html_generieren() {\r\n    const popupHtml = `\r\n    <style>\r\n    input[type=\"number\"]::-webkit-outer-spin-button,\r\n    input[type=\"number\"]::-webkit-inner-spin-button {\r\n      -webkit-appearance: none;\r\n      margin: 0;\r\n    }\r\n    input[type=\"number\"] {\r\n      -moz-appearance: textfield;\r\n    }\r\n      .fixkosten-popup-overlay {\r\n        backdrop-filter: blur(1px);\r\n        z-index: 1000;\r\n      border-radius: 0px;\r\n      }\r\n      .fixkosten-popup {\r\n        padding: 20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        background-color: #e9ecef;\r\n\r\n          border-radius: 20px;\r\n  box-shadow: rgb(255, 230, 130) -2px -2px 0px 2px,\r\n    rgb(236, 160, 110) 0px 0px 0px 4px, rgba(0, 0, 0, 0.05) 0px 0px 2px 7px;\r\n  transition: all 0.2s;\r\n        \r\n      }\r\n      .fixkosten-input {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 15px;  \r\n        padding-left: 1em;\r\n        height: 0%\r\n        box-shadow: 0px 1px 2px 0px;\r\n        background: #C0C0C0;\r\n        background-clip: padding-box;\r\n        border-radius: 1.5rem; \r\n        text-align: center;\r\n        border-right: none;\r\n        background-color: #e9ecef;\r\n        color: #495057;\r\n        text-align: center;\r\n        border: 0.1rem solid #ced4da;\r\n          }\r\n      .fixkosten-inputfield {\r\n        border-right: none;\r\n        border-left: none;\r\n        padding: 0.375rem 0.75rem;\r\n        -webkit-box-flex: 1;\r\n        color: #495057;\r\n \r\n        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\r\n          box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\r\n          line-height: 2.5rem;\r\n          border:  #ced4da;\r\n          font-family: \"Oswald\", Helvetica, sans-serif;\r\n          font-weight: 300;\r\n          font-size: 1.5rem;\r\n          letter-spacing: 0.2rem;\r\n          box-sizing: inherit;\r\n          line-height: 2.5rem;\r\n          border-top-right-radius: 1.5rem;\r\n          border-bottom-right-radius: 1.5rem;\r\n        \r\n      }\r\n      .fixkosten-input label {\r\n        margin-right: 10px;\r\n      }\r\n      \r\n    </style>\r\n    <div class=\"fixkosten-popup-overlay\" style=\"background-color: rgba(0, 0, 0, 0.5);\">\r\n      <div class=\"fixkosten-popup\">\r\n        <h2 style='margin-bottom: 40px;'>Fixkosten eingeben</h2>\r\n        <form id=\"fixkosten-form\">\r\n          <div class=\"fixkosten-input\">\r\n            <label for=\"monthly-rent\">Miete</label>\r\n            <input class=\"fixkosten-inputfield\" type=\"number\" id=\"monthly-rent\" name=\"monthly-rent\" pattern=\"\\\\d+(,\\\\d{1,2})?|\\\\d+(\\\\.\\\\d{1,2})?\" step=\"0.01\">\r\n            </div>\r\n                    <div class=\"fixkosten-input\">\r\n                        <label for=\"heating\">Heizung</label>\r\n                        <input class=\"fixkosten-inputfield\" type=\"number\" id=\"heating\" name=\"heating\" pattern=\"\\\\d+(,\\\\d{1,2})?\" step=\"0.01\">\r\n                    </div>\r\n                    <div class=\"fixkosten-input\">\r\n                        <label for=\"electricity\">Strom</label>\r\n                        <input class=\"fixkosten-inputfield\" type=\"number\" id=\"electricity\" name=\"electricity\" pattern=\"\\\\d+(,\\\\d{1,2})?\" step=\"0.01\">\r\n                    </div>\r\n                    <div class=\"fixkosten-input\">\r\n                        <label for=\"car\">Auto</label>\r\n                        <input class=\"fixkosten-inputfield\" type=\"number\" id=\"car\" name=\"car\" pattern=\"\\\\d+(,\\\\d{1,2})?\" step=\"0.01\">\r\n                    </div>\r\n                    <div class=\"fixkosten-input\">\r\n                        <label for=\"internet\">Internet</label>\r\n                        <input class=\"fixkosten-inputfield\" type=\"number\" id=\"internet\" name=\"internet\" pattern=\"\\\\d+(,\\\\d{1,2})?\" step=\"0.01\">\r\n                    </div>\r\n                    <div class=\"fixkosten-input\">\r\n                        <label for=\"other\">Andere</label>\r\n                        <input class=\"fixkosten-inputfield\" type=\"number\" id=\"other\" name=\"other\" pattern=\"\\\\d+(,\\\\d{1,2})?\" step=\"0.01\">\r\n                        \r\n                    </div>\r\n                    <button class=\"standard\" type=\"submit\">Speichern</button>\r\n                    <h3></h3>\r\n                    <ul id=\"fixkosten-ausgaben\">\r\n                    \r\n                    </ul>\r\n                </form>\r\n            </div>\r\n        </div>`;\r\n\r\n    const div = document.createElement(\"div\");\r\n    div.innerHTML = popupHtml;\r\n    return div;\r\n  }\r\n\r\n  updateAllMonthsFixkosten(totalFixkosten) {\r\n    for (const monatsliste of haushaltsbuch._monatslistensammlung\r\n      ._monatslisten) {\r\n      const month = monatsliste._monat;\r\n      const year = monatsliste._jahr;\r\n      const entries =\r\n        haushaltsbuch._monatslistensammlung.getEntriesByMonthAndYear(\r\n          year,\r\n          month\r\n        );\r\n\r\n      // Find the <article> for the current month/year\r\n      const articleElement = document.querySelector(\r\n        `article.monatsliste[data-year=\"${year}\"][data-month=\"${month}\"]`\r\n      );\r\n\r\n      // Find the \"span.titel\" elements within the current <article>\r\n      const spans = articleElement.querySelectorAll(\"span.titel\");\r\n      const fixkostenSpanVorhanden = Array.from(spans).find(\r\n        (span) => span.textContent === \"Fixkosten\"\r\n      );\r\n\r\n      if (!fixkostenSpanVorhanden) {\r\n        haushaltsbuch.eintrag_hinzufuegen({\r\n          titel: \"Fixkosten\",\r\n          betrag: totalFixkosten,\r\n          typ: \"ausgabe\",\r\n          datum: new Date(year, month - 1, 1),\r\n        });\r\n      } else {\r\n      }\r\n    }\r\n  }\r\n\r\n  show() {\r\n    document.body.appendChild(this._html);\r\n    const popup = this._html.querySelector(\".fixkosten-popup\");\r\n    popup.classList.add(\"showing\");\r\n  }\r\n\r\n  hide() {\r\n    const popup = this._html.querySelector(\".fixkosten-popup\");\r\n    popup.classList.add(\"hiding\");\r\n    setTimeout(() => {\r\n      popup.classList.remove(\"hiding\", \"showing\");\r\n      document.body.removeChild(this._html);\r\n    }, 300); // Match this duration with the duration of the closing animation\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"index.868cf8b1.js.map","sourceRoot":"/__parcel_source_root/"}