{"mappings":"AAAA;AAEA,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB;IACpC;IAEA,qBAAqB,CAAC,EAAE;QACtB,OAAO;YACL,OAAO,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK;YACpC,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK;YACtC,UAAU,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO;YAC5C,OAAO,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW;QAC5C;IACF;IAEA,2BAA2B,aAAa,EAAE;QACxC,OAAO;YACL,OAAO,cAAc,KAAK,CAAC,IAAI;YAC/B,KAAK,cAAc,QAAQ,KAAK,KAAK,GAAG,YAAY,UAAU;YAC9D,QAAQ,WAAW,cAAc,MAAM,IAAI;YAC3C,OAAO,cAAc,KAAK;QAC5B;IACF;IAEA,0BAA0B,aAAa,EAAE;QACvC,IAAI,SAAS,EAAE;QACf,IAAI,cAAc,KAAK,KAAK,IAC1B,OAAO,IAAI,CAAC;QAEd,IAAI,MAAM,cAAc,MAAM,GAC5B,OAAO,IAAI,CAAC;QAEd,IAAI,cAAc,KAAK,KAAK,IAAI,EAC9B,OAAO,IAAI,CAAC;QAEd,OAAO;IACT;IAEA,uBAAuB;QACrB,IAAI,eAAe,SAAS,aAAa,CAAC;QAC1C,IAAI,iBAAiB,IAAI,EACvB,aAAa,WAAW,GAAG,IAAI;IAEnC;IAEA,4BAA4B,eAAe,EAAE;QAC3C,gBACG,aAAa,CAAC,oBACd,gBAAgB,CAAC,UAAU,CAAC,IAAM;YACjC,EAAE,cAAc;YAChB,IAAI,gBAAgB,IAAI,CAAC,0BAA0B,CACjD,IAAI,CAAC,oBAAoB,CAAC;YAE5B,IAAI,kBAAkB,IAAI,CAAC,yBAAyB,CAAC;YACrD,IAAI,gBAAgB,MAAM,KAAK,GAAG;gBAChC,cAAc,mBAAmB,CAAC;gBAClC,IAAI,uBAAuB,SAAS,aAAa,CAAC;gBAClD,IAAI,yBAAyB,IAAI,EAC/B,qBAAqB,MAAM;gBAE7B,EAAE,MAAM,CAAC,KAAK;gBACd,IAAI,CAAC,oBAAoB;YAC3B,OAAO;gBACL,IAAI,SAAS,IAAI,OACf,uDACA;gBAEF,OAAO,QAAQ;YACjB,CAAC;QACH;IACJ;IAEA,mBAAmB;QACjB,IAAI,kBAAkB,SAAS,aAAa,CAAC;QAC7C,gBAAgB,YAAY,CAAC,MAAM;QACnC,gBAAgB,SAAS,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;cAwBnB,CAAC;QAEX,IAAI,CAAC,2BAA2B,CAAC;QAEjC,OAAO;IACT;IAEA,WAAW;QACT,IAAI,oBAAoB,SAAS,aAAa,CAAC;QAC/C,IAAI,sBAAsB,IAAI,EAAE;YAC9B,kBAAkB,qBAAqB,CAAC,cAAc,IAAI,CAAC,KAAK;YAChE,IAAI,CAAC,oBAAoB;QAC3B,CAAC;IACH;AACF","sources":["src/js/classes/Eingabeformular.js"],"sourcesContent":["\"use strict\";\r\n\r\nclass Eingabeformular {\r\n  constructor() {\r\n    this._html = this._html_generieren();\r\n  }\r\n\r\n  _formulardaten_holen(e) {\r\n    return {\r\n      titel: e.target.elements.titel.value,\r\n      betrag: e.target.elements.betrag.value,\r\n      einnahme: e.target.elements.einnahme.checked,\r\n      datum: e.target.elements.datum.valueAsDate,\r\n    };\r\n  }\r\n\r\n  _formulardaten_verarbeiten(formulardaten) {\r\n    return {\r\n      titel: formulardaten.titel.trim(),\r\n      typ: formulardaten.einnahme === false ? \"ausgabe\" : \"einnahme\",\r\n      betrag: parseFloat(formulardaten.betrag) * 100,\r\n      datum: formulardaten.datum,\r\n    };\r\n  }\r\n\r\n  _formulardaten_validieren(formulardaten) {\r\n    let fehler = [];\r\n    if (formulardaten.titel === \"\") {\r\n      fehler.push(\"Titel\");\r\n    }\r\n    if (isNaN(formulardaten.betrag)) {\r\n      fehler.push(\"Betrag\");\r\n    }\r\n    if (formulardaten.datum === null) {\r\n      fehler.push(\"Datum\");\r\n    }\r\n    return fehler;\r\n  }\r\n\r\n  _datum_aktualisieren() {\r\n    let datums_input = document.querySelector(\"#datum\");\r\n    if (datums_input !== null) {\r\n      datums_input.valueAsDate = new Date();\r\n    }\r\n  }\r\n\r\n  _absenden_event_hinzufuegen(eingabeformular) {\r\n    eingabeformular\r\n      .querySelector(\"#eingabeformular\")\r\n      .addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        let formulardaten = this._formulardaten_verarbeiten(\r\n          this._formulardaten_holen(e)\r\n        );\r\n        let formular_fehler = this._formulardaten_validieren(formulardaten);\r\n        if (formular_fehler.length === 0) {\r\n          haushaltsbuch.eintrag_hinzufuegen(formulardaten);\r\n          let bestehende_fehlerbox = document.querySelector(\".fehlerbox\");\r\n          if (bestehende_fehlerbox !== null) {\r\n            bestehende_fehlerbox.remove();\r\n          }\r\n          e.target.reset();\r\n          this._datum_aktualisieren();\r\n        } else {\r\n          let fehler = new Fehler(\r\n            \"Folgende Felder wurden nicht korrekt ausgefüllt:\",\r\n            formular_fehler\r\n          );\r\n          fehler.anzeigen();\r\n        }\r\n      });\r\n  }\r\n\r\n  _html_generieren() {\r\n    let eingabeformular = document.createElement(\"section\");\r\n    eingabeformular.setAttribute(\"id\", \"eingabeformular-container\");\r\n    eingabeformular.innerHTML = `<form id=\"eingabeformular\" action=\"#\" method=\"get\"></form>\r\n        <div class=\"eingabeformular-zeile\">\r\n            <h1>Neue Einnahme / Ausgabe hinzufügen</h1>\r\n        </div>\r\n        <div class=\"eingabeformular-zeile\">\r\n            <div class=\"titel-typ-eingabe-gruppe\">\r\n                <label for=\"titel\">Titel</label>\r\n                <input type=\"text\" id=\"titel\" form=\"eingabeformular\" name=\"titel\" placeholder=\"z.B. Einkaufen\" size=\"10\" title=\"Titel des Eintrags\">\r\n                <input type=\"radio\" id=\"einnahme\" name=\"typ\" value=\"einnahme\" form=\"eingabeformular\" title=\"Typ des Eintrags\">\r\n                <label for=\"einnahme\" title=\"Typ des Eintrags\">Einnahme</label>\r\n                <input type=\"radio\" id=\"ausgabe\" name=\"typ\" value=\"ausgabe\" form=\"eingabeformular\" title=\"Typ des Eintrags\" checked>\r\n                <label for=\"ausgabe\" title=\"Typ des Eintrags\">Ausgabe</label>\r\n            </div>\r\n        </div>\r\n        <div class=\"eingabeformular-zeile\">\r\n            <div class=\"betrag-datum-eingabe-gruppe\">\r\n                <label for=\"betrag\">Betrag</label>\r\n                <input type=\"number\" id=\"betrag\" name=\"betrag\" form=\"eingabeformular\" placeholder=\"z.B. 10,42\" size=\"10\" step=\"0.01\" title=\"Betrag des Eintrags (max. zwei Nachkommastellen, kein €-Zeichen)\">\r\n                <label for=\"datum\">Datum</label>\r\n                <input type=\"date\" id=\"datum\" name=\"datum\" form=\"eingabeformular\" placeholder=\"jjjj-mm-tt\" size=\"10\" title=\"Datum des Eintrags (Format: jjjj-mm-tt)\">\r\n            </div>\r\n        </div>\r\n        <div class=\"eingabeformular-zeile\">\r\n            <button class=\"standard\" type=\"submit\" form=\"eingabeformular\">Hinzufügen</button>\r\n        </div>`;\r\n\r\n    this._absenden_event_hinzufuegen(eingabeformular);\r\n\r\n    return eingabeformular;\r\n  }\r\n\r\n  anzeigen() {\r\n    let navigationsleiste = document.querySelector(\"body\");\r\n    if (navigationsleiste !== null) {\r\n      navigationsleiste.insertAdjacentElement(\"afterbegin\", this._html);\r\n      this._datum_aktualisieren();\r\n    }\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"index.bcbf760f.js.map","sourceRoot":"/__parcel_source_root/"}